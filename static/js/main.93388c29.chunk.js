(this["webpackJsonppower-hour-counter"]=this["webpackJsonppower-hour-counter"]||[]).push([[0],{110:function(e,t,a){e.exports=a.p+"static/media/done-1.2146f32b.webp"},111:function(e,t,a){e.exports=a.p+"static/media/done-2.d1d9c22b.webp"},112:function(e,t,a){e.exports=a.p+"static/media/done-3.b1d92345.webp"},113:function(e,t,a){e.exports=a.p+"static/media/done-4.9d653a38.webp"},131:function(e,t,a){e.exports=a.p+"static/media/shot-full.7459261f.webp"},132:function(e,t,a){e.exports=a.p+"static/media/shot-empty.e5510edc.webp"},133:function(e,t,a){e.exports=a.p+"static/media/beer.c6c00191.webp"},134:function(e,t,a){e.exports=a.p+"static/media/beer-load.9df7b81e.webp"},135:function(e,t,a){e.exports=a.p+"static/media/beer-ca.011f0ad9.webp"},136:function(e,t,a){e.exports=a.p+"static/media/beer-de.e133fda2.webp"},160:function(e,t,a){e.exports=a(174)},174:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),i=a.n(o),l=a(6),c=a(108),s=a(48),u=a(109),m=a(86),p=a(13),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_THEME":return Object(p.a)({},e,{theme:t.theme});case"SET_LANGUAGE":return Object(p.a)({},e,{language:t.language});case"SET_SOUND":return Object(p.a)({},e,{sound:t.sound});case"SET_UPDATE":return Object(p.a)({},e,{update:t.update});default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FOLDER":return Object(p.a)({},e,{folder:t.folder});case"SET_STATE":return Object(p.a)({},e,{state:t.state});case"SET_FILES":return Object(p.a)({},e,{files:t.files});default:return e}},f=a(17),h=a.n(f),b=a(30),E=window.require&&window.require("electron"),A=window.require&&window.require("electron"),v=null===E||void 0===E?void 0:E.ipcRenderer;function y(e){return w.apply(this,arguments)}function w(){return(w=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return a=e.sent,e.abrupt("return",a.filter((function(e){return x(e)})).map((function(e){return e.replace(/\\/g,"/")})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return S.apply(this,arguments)}function S(){return(S=Object(b.a)(h.a.mark((function e(t){var a,n,r,o,i,l,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.require&&window.require("path"),r=n.resolve,o=window.require&&window.require("fs").promises,i=o.readdir,e.next=4,i(t,{withFileTypes:!0});case 4:return l=e.sent,e.next=7,Promise.all(l.map((function(e){var a=r(t,e.name);return e.isDirectory()?O(a):a})));case 7:return c=e.sent,e.abrupt("return",(a=Array.prototype).concat.apply(a,Object(m.a)(c)));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var t=(window.require&&window.require("mime-types")).lookup(e)||"application/octet";return"image"===t.substring(0,t.indexOf("/")).toLowerCase()}var j=function(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(a){return!1}},k=function(e){if(j()){var t={id:Date.now().toFixed(),date:(new Date).toISOString().split("T")[0],totalShot:e.totalShot,players:e.players.filter((function(e){return e.selected})).map((function(e,t){return{name:e.name,lastShot:e.lastShot}}))},a=JSON.parse(window.localStorage.getItem("history"))||[];a.push(t),window.localStorage.setItem("history",JSON.stringify(a))}},C=a(43),T=function(e){C.a.set({page:e}),C.a.pageview(e)},I=function(e){C.a.modalview(e)},L=function(e,t){C.a.event({category:"Settings",action:"Language",label:JSON.stringify({language:e,nextUrl:t})})},N=function(e,t,a){C.a.event({category:"Game",action:"Complete",label:JSON.stringify({reason:e,currentShot:t,totalShot:a})})},D=[a(110),a(111),a(112),a(113)],F=function(){return D[Math.floor(Math.random()*D.length)]},P=function(e,t){var a=F(),n=W,r=a;return t.filter((function(e){return e.selected})).forEach((function(t){-1===t.lastShot&&(n=e.state,r=e.currentImageUrl)})),n===W&&(N("AllQuit",e.currentShot,e.totalShot),k(Object(p.a)({},e,{players:t}))),{newState:n,newImageUrl:r}},R="STOP_GAME",z="UPDATE_GAME_IMAGE",U="PLAYER_ADD",B="PLAYER_TOGGLE",G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VARIANT":switch(t.variant){case H:return Object(p.a)({},e,{variant:t.variant,totalShot:60});case q:return Object(p.a)({},e,{variant:t.variant,totalShot:30});default:return Object(p.a)({},e,{variant:t.variant,totalShot:60})}case"SET_TOTAL_SHOT":return Object(p.a)({},e,{totalShot:t.totalShot});case"START_GAME":return Object(p.a)({},e,{state:Q});case R:return Object(p.a)({},e,{state:W});case"UPDATE_GAME_DATA":return Object(p.a)({},e,{currentTime:t.currentTime,currentShot:t.currentShot});case z:return Object(p.a)({},e,{currentImageUrl:t.imageUrl});case U:var a={id:Date.now().toFixed()*Math.random(),name:t.name,selected:!0,lastShot:-1},n=Object(m.a)(e.players);return n.push(a),Object(p.a)({},e,{players:n});case"PLAYER_REMOVE":var r=e.players.filter((function(e){return e.id!==t.playerId}));return Object(p.a)({},e,{players:r});case B:var o=e.players.map((function(e,a){return e.id===t.playerId?Object(p.a)({},e,{selected:!e.selected}):e}));return Object(p.a)({},e,{players:o});case"PLAYER_QUIT":var i=e.players.map((function(a,n){return a.id===t.playerId?Object(p.a)({},a,{lastShot:e.currentShot||0}):a})),l=P(e,i),c=l.newState,s=l.newImageUrl;return Object(p.a)({},e,{players:i,state:c,currentImageUrl:s});default:return e}},M=Object(s.combineReducers)({game:G,ui:d,photos:g}),Q=1,W=2,H="blitzkrieg",q="power",_={game:{state:0,variant:"classic",currentTime:5,currentShot:0,totalShot:60,players:[],currentImageUrl:"INSTRUCTION_IMAGE_HACK"},ui:{language:"DEFAULT",theme:"light",sound:!0,update:0},photos:{folder:"",state:0,files:[]}},Z=Object(s.createStore)(M,_,Object(u.composeWithDevTools)());!function(e){if(j()){var t=JSON.parse(window.localStorage.getItem("settings"));if(t){if(t.players&&Array.isArray(t.players))for(var a=0;a<t.players.length;a++)if(t.players[a]&&(e.dispatch({type:U,name:t.players[a].name}),!t.players[a].selected)){var n=e.getState().game.players[e.getState().game.players.length-1].id;e.dispatch({type:B,playerId:n})}t.language&&["en","fr"].includes(t.language.toLowerCase())&&e.dispatch({type:"SET_LANGUAGE",language:t.language}),t.theme&&["dark","light"].includes(t.theme.toLowerCase())&&e.dispatch({type:"SET_THEME",theme:t.theme}),"undefined"!==typeof t.sound&&e.dispatch({type:"SET_SOUND",sound:t.sound}),A&&t.photos&&(e.dispatch({type:"SET_FOLDER",folder:t.photos}),y(t.photos).then((function(t){return e.dispatch({type:"SET_FILES",files:t})})).catch((function(){e.dispatch({type:"SET_FOLDER",folder:""}),e.dispatch({type:"SET_FILES",files:[]})})))}}}(Z),Z.subscribe(Object(c.throttle)((function(){!function(e){var t=e.getState();if(t.game.state!==Q&&j()){var a={language:t.ui.language,theme:t.ui.theme,sound:t.ui.sound,players:t.game.players.map((function(e,t){return{name:e.name,selected:e.selected}}))};A&&(a=Object(p.a)({},a,{photos:t.photos.folder})),window.localStorage.setItem("settings",JSON.stringify(a))}}(Z)}),1e3));var K=Z,Y=a(47),V=a(31),J=a(23),X=a(221),$=a(14),ee=a.n($),te=a(259),ae=a(176),ne=a(61),re=a.n(ne),oe=new ee.a({en:{text:"Best viewed in landscape mode"},fr:{text:"Optimis\xe9 pour orientation paysage"}}),ie=function(){oe.setLanguage(Object(l.c)((function(e){return e.ui.language})));var e=Object(n.useState)(!1),t=Object(J.a)(e,2),a=t[0],o=t[1],i=Object(X.a)("(orientation:portrait)"),c=Object(X.a)("(min-width:500px)"),s=!a&&(i&&c);return r.a.createElement(te.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:s,autoHideDuration:6e3,onClose:function(){return o(!0)},message:oe.text,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return o(!0)}},r.a.createElement(re.a,{fontSize:"small"})))})},le=a(226),ce=new ee.a({en:{available:"Downloading update...",downloaded:"Update will be installed on restart...",restart:"Restart now"},fr:{available:"T\xe9l\xe9chargement de la mise \xe0 jour...",downloaded:"La mise \xe0 jour sera install\xe9e au red\xe9marrage...",restart:"Red\xe9marrer maintenant"}});v&&A&&(v.on("update-available",(function(){v.removeAllListeners("update-available"),K.dispatch({type:"SET_UPDATE",update:1})})),v.on("update-downloaded",(function(){v.removeAllListeners("update-downloaded"),K.dispatch({type:"SET_UPDATE",update:2})})));var se=function(){ce.setLanguage(Object(l.c)((function(e){return e.ui.language})));var e=Object(l.b)(),t=Object(l.c)((function(e){return 0!==e.ui.update})),a=Object(l.c)((function(e){return 2===e.ui.update}))?ce.downloaded:ce.available,n=Object(l.c)((function(e){return 2===e.ui.update}));return r.a.createElement(te.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,autoHideDuration:6e3,onClose:function(){return e({type:"SET_UPDATE",update:0})},message:a,action:r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(le.a,{color:"primary",size:"small",onClick:function(){return v.send("update-restart-app")}},ce.restart),r.a.createElement(ae.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return e({type:"SET_UPDATE",update:0})}},r.a.createElement(re.a,{fontSize:"small"})))})},ue=a(26),me=a(227),pe=a(228),de=a(230),ge=a(231),fe=a(232),he=a(233),be=Object(me.a)((function(e){return{actions:{display:"flex",width:"100%",alignItems:"stretch"},divider:{marginLeft:"5px",marginRight:"5px"},language:{padding:"10px",textAlign:"center",flex:1}}})),Ee=function(){var e=be(),t=Object(l.b)(),a="DEFAULT"===Object(l.c)((function(e){return e.ui.language}));return r.a.createElement(pe.a,{fullWidth:!0,disableEscapeKeyDown:!1,disableBackdropClick:!1,open:a},r.a.createElement(de.a,null,"Power Hour Counter"),r.a.createElement(ge.a,null,r.a.createElement(fe.a,null,r.a.createElement("div",{className:e.actions},r.a.createElement("div",{className:e.language},"60 shots.",r.a.createElement("br",null),"60 minutes.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(le.a,{variant:"contained",color:"primary",onClick:function(){L("en","game"),t({type:"SET_LANGUAGE",language:"en"})}},"View in",r.a.createElement("br",null),"English"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(le.a,{variant:"text",color:"primary",onClick:function(){L("en","settings"),t({type:"SET_LANGUAGE",language:"en"})},component:ue.a,to:"/settings"},"Update",r.a.createElement("br",null),"settings")),r.a.createElement(he.a,{orientation:"vertical",flexItem:!0,className:e.divider}),r.a.createElement("div",{className:e.language},"60 shooters.",r.a.createElement("br",null),"60 minutes.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(le.a,{variant:"contained",color:"primary",onClick:function(){L("fr","game"),t({type:"SET_LANGUAGE",language:"fr"})}},"Voir en",r.a.createElement("br",null),"fran\xe7ais"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(le.a,{variant:"text",color:"primary",onClick:function(){L("fr","settings"),t({type:"SET_LANGUAGE",language:"fr"})},component:ue.a,to:"/settings"},"Modifier",r.a.createElement("br",null),"r\xe9glages"))))))},Ae=a(139),ve=a(253),ye=a(254),we=a(137),Oe=a.n(we),Se=a(138),xe=a.n(Se),je=a(234),ke=a(235),Ce=a(54),Te=a(258),Ie=Object(me.a)((function(e){return{root:{zIndex:e.zIndex.drawer+1},title:{flexGrow:1,fontSize:"1.25rem",fontWeight:500}}})),Le=new ee.a({en:{title:"Power Hour Counter",demiTitle:"Power Half Hour Counter",centurionTitle:"Centurion Counter",blitzkriegTitle:"Blitzkrieg Hour Counter",powerTitle:"Super-Power Half Hour Counter"},fr:{title:"Happy Hour Counter",demiTitle:"Demi-Happy Hour Counter",centurionTitle:"Centurion Counter",blitzkriegTitle:"Blitzkrieg Power Hour Counter",powerTitle:"Super-Power Half Hour Counter"}}),Ne=function(e){var t=Ie();Le.setLanguage(Object(l.c)((function(e){return e.ui.language})));var a=Object(l.c)((function(e){return e.game.variant})),n=Object(l.c)((function(e){return e.game.totalShot})),o=(e.tooltip,""),i=a===H?Le.blitzkriegTitle:a===q?Le.powerTitle:100===n?Le.centurionTitle:30===n?Le.demiTitle:Le.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,{position:"fixed",className:t.root},r.a.createElement(ke.a,null,r.a.createElement(Te.a,{title:o,placement:"bottom-start",disabled:!0},r.a.createElement(Ce.a,{variant:"h1",className:t.title},i)),e.children)))},De=a(82),Fe=a.n(De),Pe=a(83),Re=a.n(Pe),ze=function(){return r.a.createElement(ae.a,{edge:"start",color:"inherit",component:ue.a,to:"/"},r.a.createElement(Fe.a,null))},Ue=function(){return r.a.createElement(ae.a,{edge:"start",color:"inherit",component:ue.a,to:"/history"},r.a.createElement(Re.a,null))},Be=function(){return r.a.createElement(Ne,{tooltip:!0},r.a.createElement(Ue,null),r.a.createElement(ze,null))},Ge=a(257),Me=a(245),Qe=a(246),We=a(125),He=a.n(We),qe=a(240),_e=a(261),Ze=a(255),Ke=a(244),Ye=a(260),Ve=a(236),Je=function(){v.once("select-dirs-response",function(){var e=Object(b.a)(h.a.mark((function e(t,a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}if(""===(n=a.length>0?a[0]:"")){e.next=18;break}return K.dispatch({type:"SET_FOLDER",folder:n}),K.dispatch({type:"SET_STATE",state:1}),e.prev=5,e.next=8,y(n);case 8:r=e.sent,K.dispatch({type:"SET_FILES",files:r}),K.dispatch({type:"SET_STATE",state:2}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(5),K.dispatch({type:"SET_FILES",files:[]}),K.dispatch({type:"SET_FOLDER",folder:""}),K.dispatch({type:"SET_STATE",state:0});case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,a){return e.apply(this,arguments)}}()),v.send("select-dirs-request")},Xe=function(e){var t=e.classes,a=e.translations;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{variant:"contained",color:"primary",className:t.photosOptionButton,onClick:Je},a.filesChooseFolder),r.a.createElement($e,{translations:a,classes:t}))},$e=function(e){var t=e.classes,a=e.translations,n=Object(l.c)((function(e){return e.photos}));return 0===n.state?null:1===n.state?r.a.createElement(Ve.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{className:t.photosOptionText},n.folder.length>50?"".concat(n.folder.substring(0,22),"...").concat(n.folder.substring(n.folder.length-22)):n.folder),r.a.createElement(Ce.a,{className:t.photosOptionText},a.formatString(a.filesCountFolder,n.files.length)))},et=a(239),tt=a(116),at=a(117),nt=a(142),rt=a(140),ot=a(4),it=a(123),lt=a.n(it),ct=a(124),st=a.n(ct),ut=a(2),mt=a(141);function pt(e){return dt.apply(this,arguments)}function dt(){return(dt=Object(b.a)(h.a.mark((function e(t){var a,n,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.blob();case 5:return n=e.sent,r={type:n.type},o=t.replace(/\?.+/,"").split("/").pop(),e.abrupt("return",new File([n],o,r));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(e){var a;t(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.result)},n.onerror=function(e){n.abort(),a(e)},n.readAsDataURL(e)}))}var ft=a(265),ht=a(238),bt=a(237),Et=a(46),At=a.n(Et);var vt=Object(ot.a)((function(e){var t=e.palette,a=e.shape,n=e.spacing;return{root:{},imageContainer:{position:"relative",zIndex:10,textAlign:"center","&:hover $image":{opacity:.3},"&:hover $removeButton":{opacity:1}},image:{height:100,width:"initial",maxWidth:"100%",color:t.text.primary,transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",boxSizing:"border-box",boxShadow:"rgba(0, 0, 0, 0.12) 0 1px 6px, rgba(0, 0, 0, 0.12) 0 1px 4px",borderRadius:a.borderRadius,zIndex:5,opacity:1},removeButton:{transition:".5s ease",position:"absolute",opacity:0,top:n(-1),right:n(-1),width:40,height:40}}}),{name:"MuiDropzonePreviewList"})((function(e){var t=e.fileObjects,a=e.handleRemove,r=e.showFileNames,o=e.useChipsForPreview,i=e.previewChipProps,l=e.previewGridClasses,c=e.previewGridProps,s=e.classes,u=e.getPreviewIcon;return o?t.map((function(e,t){return n.createElement("div",{key:t},n.createElement(ft.a,Object.assign({variant:"outlined"},i,{label:e.file.name,onDelete:a(t)})))})):n.createElement(bt.a,Object.assign({spacing:8},c.container,{container:!0,className:Object(ut.a)(s.root,l.container)}),t.map((function(e,t){var o,i;return n.createElement(bt.a,Object.assign({xs:4},c.item,{item:!0,key:"".concat(null!==(o=null===(i=e.file)||void 0===i?void 0:i.name)&&void 0!==o?o:"file","-").concat(t),className:Object(ut.a)(s.imageContainer,l.item)}),u(e,s),r&&n.createElement(Ce.a,{variant:"body1",component:"p"},e.file.name),n.createElement(ht.a,{onClick:a(t),"aria-label":"Delete",className:s.removeButton},n.createElement(At.a,null)))})))})),yt=a(143),wt=a(224),Ot=a(119),St=a.n(Ot),xt=a(121),jt=a.n(xt),kt=a(122),Ct=a.n(kt),Tt=a(120),It=a.n(Tt),Lt={success:St.a,warning:It.a,error:jt.a,info:Ct.a};var Nt=Object(ot.a)((function(e){return{success:{backgroundColor:e.palette.success.main},error:{backgroundColor:e.palette.error.main},info:{backgroundColor:e.palette.info.main},warning:{backgroundColor:e.palette.warning.main},message:{display:"flex",alignItems:"center"},icon:{fontSize:20,opacity:.9,marginRight:e.spacing(1)},closeButton:{}}}),{name:"MuiDropzoneSnackbar"})((function(e){var t=e.classes,a=e.className,r=e.message,o=e.onClose,i=e.variant,l=Object(yt.a)(e,["classes","className","message","onClose","variant"]),c=Lt[i];return n.createElement(wt.a,Object.assign({className:Object(ut.a)(t[i],a),"aria-describedby":"client-snackbar",message:n.createElement("span",{id:"client-snackbar",className:t.message},n.createElement(c,{className:t.icon}),r),action:[n.createElement(ae.a,{key:"close","aria-label":"Close",color:"inherit",className:t.closeButton,onClick:o},n.createElement(re.a,{className:t.icon}))]},l))})),Dt={horizontal:"left",vertical:"bottom"},Ft=function(e){Object(nt.a)(a,e);var t=Object(rt.a)(a);function a(){var e;Object(tt.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={fileObjects:[],openSnackBar:!1,snackbarMessage:"",snackbarVariant:"success"},e.filesArray=function(){var t=Object(b.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(a.map(function(){var e=Object(b.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(t);case 2:return a=e.sent,e.next=5,gt(a);case 5:return n=e.sent,e.abrupt("return",{file:a,data:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:n=t.sent,e.setState((function(e){return{fileObjects:[].concat(e.fileObjects,n)}}),(function(){var t=e.props.onChange,a=e.state.fileObjects;t&&t(a.map((function(e){return e.file})))})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e.handleDropAccepted=function(){var t=Object(b.a)(h.a.mark((function t(a,n){var r,o,i,l,c,s,u,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,o=r.filesLimit,i=r.getFileAddedMessage,l=r.getFileLimitExceedMessage,c=r.onDrop,s=e.state.fileObjects,!(o>1&&s.length+a.length>o)){t.next=5;break}return e.setState({openSnackBar:!0,snackbarMessage:l(o),snackbarVariant:"error"}),t.abrupt("return");case 5:return c&&c(a,n),t.next=8,Promise.all(a.map(function(){var e=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt(t);case 2:return a=e.sent,e.abrupt("return",{file:t,data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:u=t.sent,m=u.reduce((function(e,t){return e+i(t.file.name)}),""),e.setState({openSnackBar:!0,snackbarMessage:m,snackbarVariant:"success"}),e.setState((function(e){return o<=1?{fileObjects:[].concat(u[0])}:{fileObjects:[].concat(e.fileObjects,u)}}),(function(){var t=e.props.onChange,a=e.state.fileObjects;t&&t(a.map((function(e){return e.file})))}));case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.handleDropRejected=function(t,a){var n=e.props,r=n.acceptedFiles,o=n.getDropRejectMessage,i=n.maxFileSize,l=n.onDropRejected,c="";t.forEach((function(e){c=o(e,r,i)})),l&&l(t,a),e.setState({openSnackBar:!0,snackbarMessage:c,snackbarVariant:"error"})},e.handleRemove=function(t){return function(a){a.stopPropagation();var n=e.props,r=n.getFileRemovedMessage,o=n.onChange,i=n.onDelete,l=e.state.fileObjects,c=l.filter((function(e,a){return a===t}))[0],s=l.filter((function(e,a){return a!==t}));e.setState({fileObjects:s},(function(){i&&i(c.file),o&&o(e.state.fileObjects.map((function(e){return e.file}))),e.setState({openSnackBar:!0,snackbarMessage:r(c.file.name),snackbarVariant:"info"})}))}},e.handleCloseSnackbar=function(){e.setState({openSnackBar:!1})},e}return Object(at.a)(a,[{key:"componentDidMount",value:function(){this.filesArray(this.props.initialFiles)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearOnUnmount,a=e.onChange;t&&(this.setState({fileObjects:[]}),a&&a([]))}},{key:"render",value:function(){var e=this,t=this.props,a=t.acceptedFiles,r=t.alertSnackbarProps,o=t.classes,i=t.disableRejectionFeedback,l=t.dropzoneClass,c=t.dropzoneParagraphClass,s=t.dropzoneProps,u=t.dropzoneText,m=t.filesLimit,p=t.getPreviewIcon,d=t.inputProps,g=t.maxFileSize,f=t.previewChipProps,h=t.previewGridClasses,b=t.previewGridProps,E=t.previewText,A=t.showAlerts,v=t.showFileNames,y=t.showFileNamesInPreview,w=t.showPreviews,O=t.showPreviewsInDropzone,S=t.useChipsForPreview,x=this.state,j=x.fileObjects,k=x.openSnackBar,C=x.snackbarMessage,T=x.snackbarVariant,I=null===a||void 0===a?void 0:a.join(","),L=m>1,N=w&&j.length>0,D=O&&j.length>0;return n.createElement(n.Fragment,null,n.createElement(mt.a,Object.assign({},s,{accept:I,onDropAccepted:this.handleDropAccepted,onDropRejected:this.handleDropRejected,maxSize:g,multiple:L}),(function(t){var a=t.getRootProps,r=t.getInputProps,s=t.isDragActive,m=t.isDragReject;return n.createElement("div",Object.assign({},a(),{className:Object(ut.a)(o.root,l,s&&o.active,!i&&m&&o.invalid)}),n.createElement("input",Object.assign({},d,r())),n.createElement("div",{className:o.textContainer},n.createElement(Ce.a,{variant:"h5",component:"p",className:Object(ut.a)(o.text,c)},u),n.createElement(st.a,{className:o.icon})),D&&n.createElement(vt,{fileObjects:j,handleRemove:e.handleRemove,getPreviewIcon:p,showFileNames:v,useChipsForPreview:S,previewChipProps:f,previewGridClasses:h,previewGridProps:b}))})),N&&n.createElement(n.Fragment,null,n.createElement(Ce.a,{variant:"subtitle1",component:"span"},E),n.createElement(vt,{fileObjects:j,handleRemove:this.handleRemove,getPreviewIcon:p,showFileNames:y,useChipsForPreview:S,previewChipProps:f,previewGridClasses:h,previewGridProps:b})),("boolean"===typeof A&&A||"boolean"!==typeof A&&A.includes(T))&&n.createElement(te.a,Object.assign({anchorOrigin:Dt,autoHideDuration:6e3},r,{open:k,onClose:this.handleCloseSnackbar}),n.createElement(Nt,{onClose:this.handleCloseSnackbar,variant:T,message:C})))}}]),a}(n.PureComponent);Ft.defaultProps={acceptedFiles:["image/*","video/*","application/*"],filesLimit:3,maxFileSize:3e6,dropzoneText:"Drag and drop a file here or click",previewText:"Preview:",disableRejectionFeedback:!1,showPreviews:!1,showPreviewsInDropzone:!0,showFileNames:!1,showFileNamesInPreview:!1,useChipsForPreview:!1,previewChipProps:{},previewGridClasses:{},previewGridProps:{},showAlerts:!0,alertSnackbarProps:{anchorOrigin:{horizontal:"left",vertical:"bottom"},autoHideDuration:6e3},clearOnUnmount:!0,initialFiles:[],getFileLimitExceedMessage:function(e){return"Maximum allowed number of files exceeded. Only ".concat(e," allowed")},getFileAddedMessage:function(e){return"File ".concat(e," successfully added.")},getPreviewIcon:function(e,t){return function(e){if("image"===e.type.split("/")[0])return!0}(e.file)?n.createElement("img",{className:t.image,alt:"",src:e.data}):n.createElement(lt.a,{className:t.image})},getFileRemovedMessage:function(e){return"File ".concat(e," removed.")},getDropRejectMessage:function(e,t,a){var n,r="File ".concat(e.name," was rejected. ");return t.includes(e.type)||(r+="File type not supported. "),e.size>a&&(r+="File is too big. Size limit is "+(((n=a)>=1e6?n/1e6+" megabytes":n>=1e3?n/1e3+" kilobytes":n+" bytes")+". ")),r}};var Pt=Object(ot.a)((function(e){var t=e.palette,a=e.shape,n=e.spacing;return{"@keyframes progress":{"0%":{backgroundPosition:"0 0"},"100%":{backgroundPosition:"-70px 0"}},root:{position:"relative",width:"100%",minHeight:"250px",backgroundColor:t.background.paper,border:"dashed",borderColor:t.divider,borderRadius:a.borderRadius,boxSizing:"border-box",cursor:"pointer",overflow:"hidden"},active:{animation:"$progress 2s linear infinite !important",backgroundImage:"repeating-linear-gradient(-45deg, ".concat(t.background.paper,", ").concat(t.background.paper," 25px, ").concat(t.divider," 25px, ").concat(t.divider," 50px)"),backgroundSize:"150% 100%",border:"solid",borderColor:t.primary.light},invalid:{backgroundImage:"repeating-linear-gradient(-45deg, ".concat(t.error.light,", ").concat(t.error.light," 25px, ").concat(t.error.dark," 25px, ").concat(t.error.dark," 50px)"),borderColor:t.error.main},textContainer:{textAlign:"center"},text:{marginBottom:n(3),marginTop:n(3)},icon:{width:51,height:51,color:t.text.primary}}}),{name:"MuiDropzoneArea"})(Ft),Rt=function(e){for(var t="",a=new Uint8Array(e),n=a.byteLength,r=0;r<n;r++)t+=String.fromCharCode(a[r]);return window.btoa(t)},zt=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0;case 2:if(!(n<t.length)){e.next=10;break}return e.next=5,t[n].arrayBuffer();case 5:r=e.sent,a.push("data:"+t[n].type+";base64,"+Rt(r));case 7:n++,e.next=2;break;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ut=function(e){var t=e.classes,a=e.translations,o=Object(n.useState)(!1),i=Object(J.a)(o,2),l=i[0],c=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{variant:"contained",color:"primary",className:t.photosOptionButton,onClick:function(){I("PhotosUpload"),c(!0)}},a.filesChooseOnline),r.a.createElement(Gt,{title:a.uploadTitle,open:l,setOpen:c,translations:a,classes:t},a.uploadTitle),r.a.createElement(Bt,{translations:a,classes:t}))},Bt=function(e){var t=e.classes,a=e.translations,n=Object(l.c)((function(e){return e.photos}));return 0===n.state?null:1===n.state?r.a.createElement(Ve.a,null):r.a.createElement(Ce.a,{className:t.photosOptionText},a.formatString(a.filesCountOnline,n.files.length))},Gt=function(e){var t=e.title,a=e.open,o=e.setOpen,i=e.classes,c=e.translations,s=Object(l.b)(),u=Object(n.useState)(!0),m=Object(J.a)(u,2),p=m[0],d=m[1],g=Object(n.useState)(!1),f=Object(J.a)(g,2),h=f[0],b=f[1],E=Object(n.useState)([]),A=Object(J.a)(E,2),v=A[0],y=A[1];return r.a.createElement(pe.a,{open:a,disableBackdropClick:!0,onClose:function(){return o(!1)}},r.a.createElement(de.a,null,t),r.a.createElement(ge.a,{className:i.dropZoneDialog},h&&r.a.createElement(Ve.a,{className:i.dropzoneProgress}),r.a.createElement(Pt,{acceptedFiles:["image/*"],filesLimit:200,maxFileSize:5e6,showPreviewsInDropzone:!1,showPreviews:!0,showAlerts:["error"],dropzoneText:c.uploadText,previewText:c.uploadPreviewText,getFileLimitExceedMessage:function(e){return c.formatString(c.uploadFileLimitExceedMessage,e)},dropzoneClass:i.dropzoneClass,dropzoneParagraphClass:i.dropzoneParagraphClass,onDrop:function(){return b(!0)},onChange:function(e){b(!1),y(e),d(0===e.length)}}),r.a.createElement(he.a,null)),r.a.createElement(et.a,null,r.a.createElement(le.a,{variant:"text",color:"primary",onClick:function(){return o(!1)}},c.uploadCancelText),r.a.createElement(le.a,{variant:"contained",color:"primary",disabled:p,onClick:function(){o(!1),s({type:"SET_STATE",state:1}),zt(v).then((function(e){s({type:"SET_FILES",files:e}),s({type:"SET_STATE",state:2})})).catch((function(){s({type:"SET_FILES",files:[]}),s({type:"SET_STATE",state:0})}))}},c.uploadSubmitText)))},Mt=Object(me.a)((function(e){return{root:{flex:1,paddingTop:"75px",paddingLeft:"15px",paddingRight:"20px"},title:{fontSize:"1.5rem",fontWeight:400},variantItemCombo:{padding:"5px",width:"100%"},variantDescription:{paddingLeft:"5px",fontSize:"95%"},minutesOptionGroup:{paddingLeft:"10px",marginTop:"15px",fontSize:"95%",fontWeight:"bold"},minutesOptionItem:{marginTop:"50px",marginLeft:"25px",marginRight:"25px"},photosOptionGroup:{marginTop:"25px"},photosOptionButton:{margin:"15px"},photosOptionText:{marginLeft:"15px",fontSize:"85%"},extraOptionGroup:{marginTop:"25px",flexDirection:"column",marginBottom:"100px"},extraOptionGroupItem:{flex:1},extraOptionGroupItemCombo:{margin:"3px",padding:"10px",width:"100%"},warningGroup:{bottom:"0",left:"0",width:"100%",position:"fixed",color:e.palette.warning.dark,backgroundColor:e.palette.background.default,zIndex:e.zIndex.modal-1,paddingLeft:"10px",paddingBottom:"10px"},dropZoneDialog:{overflowX:"hidden"},dropzoneClass:{minHeight:"100px",marginBottom:"15px",padding:"5px",backgroundColor:e.palette.secondary.light},dropzoneParagraphClass:{fontSize:"85%",paddingLeft:"50px",paddingRight:"50px"},dropzoneProgress:{marginBottom:"15px"}}})),Qt=[{value:30,label:"30"},{value:60,label:"60"},{value:100,label:"100"}],Wt=new ee.a({en:{variant:"Game type",classic:"Classic",blitzkrieg:"Blitzkrieg",power:"Super-Power Half Hour",classicDesc:"A shot every minute.",blitzkriegDesc:"Each minute lasts one second less. 60 shots total.",powerDesc:"30 shots of 30 secondes.",minutes:"Total minutes:",photos:"Photo folder",optional:"Optional",filesChooseFolder:"Select a folder",filesChooseOnline:"Add photos",filesCountFolder:"{0} photos found",filesCountOnline:"{0} total photos",uploadTitle:"Choose images",uploadText:"Drag and drop files here or click to select",uploadFileLimitExceedMessage:"Maximum of {0} files allowed",uploadPreviewText:"Preview",uploadCancelText:"Cancel",uploadSubmitText:"Submit",moreOptions:"More options",language:"Language",theme:"Theme",themeDark:"Dark",themeLight:"Light",sound:"Sound",yes:"Yes",no:"No",warning1:"Warning:",warning2:"This game will get you drunk... Unless you are drinking Coors Light (but that's cheating anyways!)."},fr:{variant:"Type de jeu",classic:"Classique",blitzkrieg:"Blitzkrieg",power:"Super-Power Half Hour",classicDesc:"Un shooter \xe0 chaque minute.",blitzkriegDesc:"Chaque minute \xe0 une seconde de moins. 60 shooters total.",powerDesc:"30 minutes de 30 secondes.",minutes:"Minutes totales:",photos:"Photos",optional:"Optionnel",filesChooseFolder:"Choisir un r\xe9pertoire",filesChooseOnline:"Ajouter des photos",filesCountFolder:"{0} photos trouv\xe9es",filesCountOnline:"{0} photos au total",uploadTitle:"Choisir des images",uploadText:"Glissez des fichiers ici ou cliquez pour choisir",uploadFileLimitExceedMessage:"Maximum de {0} images permises",uploadCancelText:"Annuler",uploadSubmitText:"Soumettre",uploadPreviewText:"Aper\xe7u",moreOptions:"Plus d'options",language:"Langue",theme:"Th\xe8me",themeDark:"Fonc\xe9",themeLight:"Clair",sound:"Son",yes:"Oui",no:"Non",warning1:"Attention:",warning2:"Ce jeu vous rend soul... Sauf si vous buvez de la Coors Light (mais c'est tricher de toute fa\xe7on!)."}}),Ht=function(e){var t=Mt(),a=Object(l.b)(),n=Object(l.c)((function(e){return e.game.variant}));return console.log(n),r.a.createElement("div",null,r.a.createElement(Ce.a,{className:t.title},Wt.variant),r.a.createElement(qe.a,{className:t.variantItemCombo},r.a.createElement(Ze.a,{value:n,onClick:function(e){return a({type:"SET_VARIANT",variant:e.target.value||n})}},r.a.createElement(Ke.a,{value:"classic"},Wt.classic),r.a.createElement(Ke.a,{value:"blitzkrieg"},Wt.blitzkrieg),r.a.createElement(Ke.a,{value:"power"},Wt.power))),r.a.createElement(Ce.a,{className:t.variantDescription},"classic"===n&&Wt.classicDesc,n===H&&Wt.blitzkriegDesc,n===q&&Wt.powerDesc))},qt=function(e){var t=Mt(),a=Object(l.b)(),n=Object(l.c)((function(e){return e.game.totalShot}));return"classic"!==Object(l.c)((function(e){return e.game.variant}))?null:r.a.createElement("div",{className:t.minutesOptionGroup},Wt.minutes,r.a.createElement("div",{className:t.minutesOptionItem},r.a.createElement(Ye.a,{onChange:function(e,t){return a({type:"SET_TOTAL_SHOT",totalShot:t})},min:e.min,max:100,value:n,step:e.step,valueLabelDisplay:"on",marks:Qt})))},_t=function(){var e=Mt();return r.a.createElement("div",{className:e.photosOptionGroup},r.a.createElement(Ce.a,{className:e.title},Wt.photos),r.a.createElement(Ce.a,null,Wt.optional),A&&r.a.createElement(Xe,{translations:Wt,classes:e}),!A&&r.a.createElement(Ut,{translations:Wt,classes:e}))},Zt=function(){var e=Mt(),t=Object(l.b)(),a=Object(l.c)((function(e){return e.ui.sound}))?1:0;return r.a.createElement(qe.a,{className:e.extraOptionGroupItemCombo},r.a.createElement(_e.a,{id:"language-select-label"},Wt.sound),r.a.createElement(Ze.a,{labelId:"language-select-label",value:a,onClick:function(e){var a=1===parseInt(e.target.value);t({type:"SET_SOUND",sound:a})}},r.a.createElement(Ke.a,{value:"1"},Wt.yes),r.a.createElement(Ke.a,{value:"0"},Wt.no)))},Kt=function(){var e=Mt(),t=Object(l.b)(),a=Object(l.c)((function(e){return e.ui.language}));return r.a.createElement(qe.a,{className:e.extraOptionGroupItemCombo},r.a.createElement(_e.a,{id:"language-select-label"},Wt.language),r.a.createElement(Ze.a,{labelId:"language-select-label",value:a,onClick:function(e){return t({type:"SET_LANGUAGE",language:e.target.value||a})}},r.a.createElement(Ke.a,{value:"fr"},"Fran\xe7ais"),r.a.createElement(Ke.a,{value:"en"},"English")))},Yt=function(){var e=Mt(),t=Object(l.b)(),a=Object(l.c)((function(e){return e.ui.theme}));return r.a.createElement(qe.a,{className:e.extraOptionGroupItemCombo},r.a.createElement(_e.a,{id:"theme-select-label"},Wt.theme),r.a.createElement(Ze.a,{labelId:"theme-select-label",value:a,onClick:function(e){return t({type:"SET_THEME",theme:e.target.value||a})}},r.a.createElement(Ke.a,{value:"light"},Wt.themeLight),r.a.createElement(Ke.a,{value:"dark"},Wt.themeDark)))},Vt=function(){var e=Mt();Wt.setLanguage(Object(l.c)((function(e){return e.ui.language})));return r.a.createElement("div",{className:e.root},r.a.createElement(Ht,null),r.a.createElement(qt,{min:30,step:10}),r.a.createElement(_t,null),r.a.createElement("div",{className:e.extraOptionGroup},r.a.createElement(Ge.a,{variant:"elevation"},r.a.createElement(Me.a,{expandIcon:r.a.createElement(He.a,null)},r.a.createElement(Ce.a,null,Wt.moreOptions)),r.a.createElement(Qe.a,null,r.a.createElement("div",{className:e.extraOptionGroupItem},r.a.createElement(Zt,null),r.a.createElement(Kt,null),r.a.createElement(Yt,null))))),r.a.createElement("div",{className:e.warningGroup},r.a.createElement(Ce.a,null,r.a.createElement("b",null,Wt.warning1)),r.a.createElement(Ce.a,{style:{fontSize:"85%"}},r.a.createElement("b",null,Wt.warning2))))},Jt=a(262),Xt=function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase(),r=0;return a>n?r=1:a<n&&(r=-1),r},$t=function(e,t){var a=e.date.toUpperCase(),n=t.date.toUpperCase(),r=0;return a<n?r=1:a>n&&(r=-1),r},ea=a(243),ta=a(178),aa=a(247),na=a(249),ra=a(248),oa=a(256),ia=a(126),la=a.n(ia),ca=Object(me.a)((function(e){return{root:{flex:2,paddingTop:"75px",paddingRight:"15px"},title:{fontSize:"1.5rem",fontWeight:400},listRoot:{marginTop:"35px",width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},selected:{},notSelected:{textDecoration:"line-through",color:e.palette.secondary.dark},addRoot:{marginTop:"35px",paddingLeft:"15px",marginBottom:"100px"}}})),sa=new ee.a({en:{players:"Players",optional:"Optional",add:"Add a player"},fr:{players:"Joueurs",optional:"Optionnel",add:"Ajouter un joueur"}}),ua=function(){var e=ca(),t=Object(l.b)(),a=Object(l.c)((function(e){return e.game.players}))||[];return a.sort(Xt),0===a.length?null:r.a.createElement(ea.a,{className:e.listRoot},a.map((function(a){return r.a.createElement(ta.a,{key:a.id,dense:!0,button:!0,className:a.selected?e.selected:e.notSelected,onClick:function(){return t({type:B,playerId:a.id})}},r.a.createElement(aa.a,null,r.a.createElement(oa.a,{edge:"start",checked:a.selected,tabIndex:-1,disableRipple:!0})),r.a.createElement(ra.a,{primary:a.name}),r.a.createElement(na.a,null,r.a.createElement(ae.a,{edge:"end",onClick:function(){return t({type:"PLAYER_REMOVE",playerId:a.id})}},r.a.createElement(At.a,null))))})))},ma=function(){var e=ca(),t=Object(l.b)(),a=function(){t({type:U,name:document.getElementById("add").value}),document.getElementById("add").value=""};return r.a.createElement("div",{className:e.addRoot},r.a.createElement(Jt.a,{id:"add",label:sa.add,inputProps:{maxLength:20},onKeyPress:function(e){13===e.charCode&&(e.preventDefault(),a())}}),r.a.createElement(ae.a,{edge:"end",onClick:a},r.a.createElement(la.a,null)))},pa=function(){var e=ca();return sa.setLanguage(Object(l.c)((function(e){return e.ui.language}))),r.a.createElement("div",{className:e.root},r.a.createElement(Ce.a,{className:e.title},sa.players),r.a.createElement(Ce.a,null,sa.optional),r.a.createElement(ua,null),r.a.createElement(ma,null))},da=Object(me.a)((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"space-around",marginTop:"15px",marginLeft:"15px"}}})),ga=function(){var e=da();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,null),r.a.createElement("div",{className:e.root},r.a.createElement(Vt,null),r.a.createElement(pa,null)))},fa=a(69),ha=a(263),ba=Object(me.a)((function(e){return{root:{width:"240px",flex:2,backgroundColor:"red"},description:{fontSize:"95%",paddingBottom:"5px"},drawerPaper:{width:"300px",backgroundColor:e.palette.secondary.light,paddingTop:"75px",paddingLeft:"5px",paddingRight:"5px"},drawerContent:{overflowY:"auto",height:"100%",padding:"5px"},title:{fontWeight:500},playerItem:{borderRadius:"10px",padding:"10px",marginTop:"10px",flexDirection:"column",width:"100%",minHeight:"60px"},green:{border:"solid 2px green",background:"rgba(0, 255, 0, .10)","&:hover":{background:"rgba(0, 255, 0, .15)",cursor:"pointer",color:e.palette.secondary.dark}},red:{border:"solid 2px rgba(255, 0, 0, .45)",background:"rgba(255, 0, 0, .10) !important"},playerItemName:{textAlign:"left",textTransform:"uppercase",fontWeight:"bold",width:"200px"},playerItemInfo:{textAlign:"left",fontSize:"75%",fontStyle:"italic",width:"200px"}}})),Ea=new ee.a({en:{title:"List of players:",description1:"Green players are still active.",description2:"Red players have quit.",description3:"Press on a green player to remove them if they quit.",redFormat:"Stopped after {0} shots",greenFormat:"Still drinking",greenFormatReady:"Ready to drink",greenFormatDone:"Completed"},fr:{title:"Liste de joueurs",description1:"Les joueurs en vert sont toujours en jeu.",description2:"Les joueurs en rouge ont abandonn\xe9s.",description3:"Appuyez sur un joueur en vert s'il abandonne.",redFormat:"A abandonn\xe9 apr\xe8s {0} shooters",greenFormat:"Boit toujours",greenFormatReady:"Pret \xe0 boire",greenFormatDone:"A reussi"}}),Aa=function(e){var t=e.item,a=e.setOpen,n=ba(),o=Object(l.b)(),i=Object(l.c)((function(e){return e.game.state}))===Q,c=-1===t.lastShot?n.green:n.red,s=-1!==t.lastShot||!i,u=function(){o({type:"PLAYER_QUIT",playerId:t.id}),setTimeout((function(){return a(!1)}),1200)};return-1===t.lastShot&&i||(u=null),r.a.createElement(fa.a,{variant:"contained",className:"".concat(n.playerItem," ").concat(c),onClick:u,disabled:s},r.a.createElement("div",{className:n.playerItemName},t.name),r.a.createElement(va,{item:t}))},va=function(e){var t=e.item,a=ba(),n=0===Object(l.c)((function(e){return e.game.state})),o=Object(l.c)((function(e){return e.game.state}))===W,i=n?Ea.greenFormatReady:o?Ea.greenFormatDone:Ea.greenFormat;return-1!==t.lastShot?r.a.createElement("div",{className:a.playerItemInfo},Ea.formatString(Ea.redFormat,t.lastShot)):r.a.createElement("div",{className:a.playerItemInfo},i)},ya=function(e){var t=ba();Ea.setLanguage(Object(l.c)((function(e){return e.ui.language})));var a=e.open,n=e.setOpen,o=Object(l.c)((function(e){return e.game.players}))||[];o.sort(Xt);var i=o.filter((function(e){return e.selected})),c=a;return 0===i.length&&(c=!1),r.a.createElement(ha.a,{variant:"persistent",anchor:"right",open:c,className:t.root,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerContent},r.a.createElement(Ce.a,{className:t.title},Ea.title),r.a.createElement(Ce.a,{className:t.description},Ea.description3),i.map((function(e){return r.a.createElement(Aa,{key:e.id,item:e,setOpen:n})}))))},wa=a(130),Oa=a.n(wa),Sa=a(128),xa=a.n(Sa),ja=a(129),ka=a.n(ja),Ca=a(127),Ta=a.n(Ca),Ia=a(85),La=a.n(Ia),Na=new ee.a({en:{title:"About",description:"PowerHour is a simple drinking game where players must take one shot of beer every minute for an hour, or 60 shots within one hour. This counter allows you to keep track of time.",source:"Source code for application available on GitHub. Open any issues for bugs or new feature requests.",wikiUrl:"PowerHour on Wikipedia",gitHubUrl:"Source on GitHub",close:"Close"},fr:{title:"\xc0 propos",description:"Un HappyHour est jeu o\xf9 les joueurs doivent prendre un shooter de bi\xe8re \xe0 chaque minute pendant une heure, donc 60 en une heure. Ce compteur permet de garder le d\xe9compte.",source:"Le code source de l'application est disponible sur GitHub. Vous pouvez aussi d\xe9clarer des probl\xe8mes ou demander de nouvelles fonctionnalit\xe9s.",wikiUrl:"PowerHour sur Wikipedia (en)",gitHubUrl:"Source sur GitHub",close:"Fermer"}}),Da=function(e){Na.setLanguage(Object(l.c)((function(e){return e.ui.language})));var t=e.open,a=e.setOpen;return r.a.createElement(pe.a,{disableBackdropClick:!0,open:t,onClose:function(){return a(!1)}},r.a.createElement(de.a,null,Na.title),r.a.createElement(ge.a,null,r.a.createElement(fe.a,null,Na.description,r.a.createElement("br",null),r.a.createElement("br",null),Na.source,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(he.a,null)),r.a.createElement(et.a,null,r.a.createElement(le.a,{variant:"text",color:"primary",href:"https://en.wikipedia.org/wiki/Power_hour",target:"_blank"},Na.wikiUrl),r.a.createElement(le.a,{variant:"text",color:"primary",href:"https://www.github.com/blouin/PowerHourCounter",target:"_blank"},Na.gitHubUrl),r.a.createElement(le.a,{variant:"contained",color:"primary",onClick:function(){a(!1)}},Na.close))))},Fa=function(){var e=Object(n.useState)(!1),t=Object(J.a)(e,2),a=t[0],o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{edge:"start",color:"inherit",onClick:function(){I("InformationDialog"),o(!0)}},r.a.createElement(Ta.a,null)),r.a.createElement(Da,{open:a,setOpen:o}))},Pa=function(){return Object(l.c)((function(e){return e.game.state}))===Q?null:r.a.createElement(ae.a,{edge:"start",color:"inherit",component:ue.a,to:"/history"},r.a.createElement(Re.a,null))},Ra=function(){var e=Object(l.b)();return Object(l.c)((function(e){return e.ui.sound}))?r.a.createElement(ae.a,{edge:"start",color:"inherit",onClick:function(){return e({type:"SET_SOUND",sound:!1})}},r.a.createElement(xa.a,null)):r.a.createElement(ae.a,{edge:"start",color:"inherit",onClick:function(){return e({type:"SET_SOUND",sound:!0})}},r.a.createElement(ka.a,null))},za=function(){return 0===Object(l.c)((function(e){return e.game.state}))?r.a.createElement(ae.a,{edge:"start",color:"inherit",component:ue.a,to:"/settings"},r.a.createElement(La.a,null)):null},Ua=function(e){var t=e.open,a=e.setOpen;return 0===(Object(l.c)((function(e){return e.game.players}))||[]).filter((function(e){return e.selected})).length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{edge:"start",color:"inherit",onClick:function(){return a(!t)}},r.a.createElement(Oa.a,null)))},Ba=function(){var e=Object(n.useState)(!1),t=Object(J.a)(e,2),a=t[0],o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,null,r.a.createElement(Fa,null),r.a.createElement(Pa,null),r.a.createElement(Ra,null),r.a.createElement(za,null),r.a.createElement(Ua,{open:a,setOpen:o})),r.a.createElement(ya,{open:a,setOpen:o}))},Ga=Object(me.a)((function(e){return{root:{flex:2,padding:"15px",height:"100%",width:"100%",paddingTop:"75px",overflow:"hidden",textAlign:"center"},content:{position:"relative",top:"50%",transform:"translateY(-50%)"},time:{fontWeight:"bold",fontSize:"6rem",lineHeight:"1.167",letterSpacing:"-0.01562em"},count:{fontSize:"2.125rem",lineHeight:"1.235",letterSpacing:"0.00735em"},startButton:{marginTop:"25px"}}})),Ma=new ee.a({en:{done:"Done",countFormat:"{0} of {1}",startButton:"Start"},fr:{done:"Termin\xe9",countFormat:"{0} de {1}",startButton:"D\xe9buter"}}),Qa=function(){var e=Ga(),t=Object(l.b)(),a=Object(l.c)((function(e){return e.game.variant})),n=Object(l.c)((function(e){return e.game.totalShot})),o=Object(l.c)((function(e){return 0!==e.game.players.length})),i=Object(l.c)((function(e){return 0!==e.photos.files.length})),c=0===Object(l.c)((function(e){return e.game.state}));return r.a.createElement("div",{className:e.startButton},c&&r.a.createElement(le.a,{variant:"contained",color:"primary",size:"large",onClick:function(){!function(e,t,a,n){C.a.event({category:"Game",action:"Started",label:JSON.stringify({variant:e,totalShot:t,hasPlayers:a,hasPhotos:n})})}(a,n,o,i),t({type:"START_GAME"})}},Ma.startButton))},Wa=function(){var e=Ga();Ma.setLanguage(Object(l.c)((function(e){return e.ui.language})));var t=Object(l.c)((function(e){return e.game.currentTime})),a=Object(l.c)((function(e){return e.game.currentShot})),n=Object(l.c)((function(e){return e.game.totalShot})),o=Object(l.c)((function(e){return e.game.state}))===W,i=!o&&t<2?"#ff3d00":!o&&t<4?"#ffc400":"";return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.content},r.a.createElement(Ce.a,{className:e.time,style:{color:i}},o?"-":t),r.a.createElement(Ce.a,{className:e.count},Ma.formatString(Ma.countFormat,a,n)),r.a.createElement(Qa,null)))},Ha=a(250),qa=a(251),_a=a(252),Za=Object(me.a)((function(e){return{root:{flex:3,padding:"15px",height:"100%",width:"100%",paddingTop:"75px",overflow:"hidden",transition:"flex 0.5s linear",position:"relative"},hidden:{flex:1e-6,height:"0px",overflow:"hidden"},title:{fontWeight:500},smallInstruction:{fontSize:"70%",transition:"font-size 0.25s linear"},content:{width:"85%",position:"relative",top:"50%",transform:"translateY(-50%) translateX(-50%)",left:"50%"},social:{textAlign:"right"},pictureFrame:{width:"100%",height:"100%",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",transition:"background 0.25s linear"}}})),Ka=new ee.a({en:{instructionsTitle:"Instructions:",instructionsLine1a:"Recommended: ",instructionsLine1b:"In ",instructionsLine1c:"game settings",instructionsLine1d:", select photos and add players.",instructionsLine2:"Press Start to begin.",instructionsLine3:"When the timer reaches zero (every minute), take a shot.",instructionsLine4:"If a person quits, open panel on the side to remove them from the list.",instructionsLine5:"The game stops after {0} shots.",cancel:"No player!!"},fr:{instructionsTitle:"Instructions:",instructionsLine1a:"Recommand\xe9: ",instructionsLine1b:"Dans les ",instructionsLine1c:"r\xe9glages",instructionsLine1d:", choisissez des photos et ajoutez des joueurs.",instructionsLine2:"Appuyez sur D\xe9buter pour commencer \xe0 jouer.",instructionsLine3:"\xc0 chaque fois que le compteur arrive \xe0 z\xe9ro (chaque minute), prennez un shooter.",instructionsLine4:"Si un joueur abandonne, ouvrir le panneau sur le c\xf4t\xe9 pour l'enlever de la liste.",instructionsLine5:"Le jeu termine apr\xe8s {0} shooters.",cancel:"Aucun participant!!"}}),Ya=function(){var e=Za();Ka.setLanguage(Object(l.c)((function(e){return e.ui.language})));var t=Object(X.a)("(min-width:400px)"),a=Object(X.a)("(max-width:600px)"),n=(Object(l.c)((function(e){return e.game.players}))||[]).filter((function(e){return e.selected})),o=0===Object(l.c)((function(e){return e.game.state})),i=Object(l.c)((function(e){return e.game.currentImageUrl}))||"",c=Object(l.c)((function(e){return e.game.totalShot})),s=""===(i||"")?e.hidden:"",u=a?e.smallInstruction:"";return t?o||"INSTRUCTION_IMAGE_HACK"===i?r.a.createElement("div",{className:e.root},r.a.createElement(Ha.a,{className:"".concat(e.content," ").concat(u)},r.a.createElement(qa.a,null,r.a.createElement(Ce.a,{className:e.title},Ka.instructionsTitle),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,Ka.instructionsLine1a),Ka.instructionsLine1b,r.a.createElement("b",null,r.a.createElement(_a.a,{component:ue.a,to:"/settings"},Ka.instructionsLine1c)),Ka.instructionsLine1d),r.a.createElement("li",null,Ka.instructionsLine2),r.a.createElement("li",null,Ka.instructionsLine3),0!==n.length&&r.a.createElement("li",null,Ka.instructionsLine4),r.a.createElement("li",null,Ka.formatString(Ka.instructionsLine5,c))),r.a.createElement("div",{className:"".concat(e.social," social-wrapper")},r.a.createElement("div",{class:"fb-like","data-href":"https://facebook.com/powerhourcounter","data-width":"","data-layout":"button","data-action":"like","data-size":"small","data-share":"true"}))))):r.a.createElement("div",{className:"".concat(e.root," ").concat(s)},r.a.createElement("div",{className:e.pictureFrame,style:{backgroundImage:"url(".concat(i,")")}})):null},Va=a(131),Ja=a(132),Xa=a(133),$a=a(134),en=a(135),tn=a(136),an={DEFAULT:$a,CA:en,DE:tn},nn=Object(me.a)((function(e){return{progressWrapper:{display:"flex",flexDirection:"column",alignItems:"stretch",height:"100%",justifyContent:"space-around"},progressTodoWrapper:{marginLeft:"25px",fontWeight:500},progressRowWrapper:{flex:1,textAlign:"center",display:"flex",height:"100%",marginLeft:"50px",marginRight:"50px"},progressRowItem:{flex:1,width:"60px",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",textAlign:"center",height:"100%"},progressRowItemTransition:{transition:"background 0.5s linear"},social:{marginTop:"15px",marginRight:"15px",textAlign:"right"}}})),rn=new ee.a({en:{remaining:"Left to drink:",share:"Please share. Thanks!"},fr:{remaining:"Il reste \xe0 boire:",share:"SVP partager. Merci!"}}),on=function(e){var t=e.toDisplay,a=e.totalBeers,n=Object(l.c)((function(e){return e.game.currentShot})),o=Object(l.c)((function(e){return e.game.totalShot})),i=[],c=n%11,s=t;parseInt(n/11)===a&&(s=o-11*a);for(var u=0;u<t;u++)i.push(r.a.createElement(ln,{key:u,show:u>=c&&u<s}));return i},ln=function(e){var t=nn(),a=e.show?Va:Ja;return r.a.createElement("div",{className:"".concat(t.progressRowItem," ").concat(t.progressRowItemTransition),style:{backgroundImage:"url(".concat(a,")")}})},cn=function(e){for(var t=e.toDisplay,a=Object(l.c)((function(e){return e.game.currentShot})),n=[],o=parseInt(a/11),i=t-1;i>=0;i--)n.push(r.a.createElement(sn,{key:i,show:i>=o,country:e.country}));return n},sn=function(e){var t,a=nn(),n=e.show,o=null!==(t=an[e.country])&&void 0!==t?t:Xa,i=n?"":"hidden";return r.a.createElement("div",{className:"".concat(a.progressRowItem),style:{backgroundImage:"url(".concat(o,")"),visibility:i}})},un=function(){var e=nn();rn.setLanguage(Object(l.c)((function(e){return e.ui.language})));var t=Object(l.c)((function(e){return e.game.totalShot})),a=Math.max(Math.floor(t/11),0),o=Object(l.c)((function(e){return e.game.state}))===W,i=Object(n.useState)("DEFAULT"),c=Object(J.a)(i,2),s=c[0],u=c[1];return Object(n.useEffect)((function(){fetch("https://ipapi.co/json").then((function(e){return e.json()})).then((function(e){return u(e.country_code)})).catch((function(e){console.log(e),u("")}))}),[]),Object(n.useEffect)((function(){o&&window.FB.XFBML.parse(document.getElementById("done-fb-like"))})),o?r.a.createElement("div",{id:"done-fb-like",className:e.social},r.a.createElement(Ce.a,null,rn.share),r.a.createElement("div",{class:"fb-like","data-href":"https://facebook.com/powerhourcounter","data-width":"","data-layout":"button","data-action":"like","data-size":"large","data-share":"true"})):r.a.createElement("div",{className:e.progressWrapper},r.a.createElement(Ce.a,{className:e.progressTodoWrapper},rn.remaining),r.a.createElement("div",{style:{flex:1},className:e.progressRowWrapper},r.a.createElement(on,{totalBeers:a,toDisplay:Math.min(11,t)})),r.a.createElement("div",{style:{flex:3},className:e.progressRowWrapper},r.a.createElement(cn,{toDisplay:a,country:s})))},mn=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.game}),!0),a=Object(l.c)((function(e){return e.photos}),!0),r=Object(l.c)((function(e){return e.ui.sound}));Object(n.useEffect)((function(){if(t.state===Q){window.onbeforeunload=function(){return!0};var n=window.setInterval((function(){var n=t.currentTime-1,o=t.currentShot,i=t.totalShot;if(0===n&&(n=t.variant===H?60-(o+1):t.variant===q?30:60,o+=1,r&&new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=").play(),o%5===0&&function(e,t){C.a.event({category:"Game",action:"Progress",label:JSON.stringify({currentShot:e,totalShot:t})})}(o,i)),o===t.totalShot&&function(){var e=F();K.dispatch({type:z,imageUrl:e}),K.dispatch({type:R}),N("Done",K.getState().game.currentShot+1,K.getState().game.totalShot),k(K.getState().game)}(),15===n||45===n){var l=a.files[Math.floor(Math.random()*a.files.length)];e({type:z,imageUrl:l})}e({type:"UPDATE_GAME_DATA",currentTime:n,currentShot:o})}),1e3);return function(){window.onbeforeunload=null,clearInterval(n)}}}))},pn=Object(me.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"stretch",height:"100vh",justifyContent:"space-around"},topWrapper:{flex:1,display:"flex"},bottomWrapper:{flexBasis:"300px"}}})),dn=function(){var e=pn();return r.a.createElement("div",{className:e.topWrapper},r.a.createElement(Wa,null),r.a.createElement(Ya,null))},gn=function(){var e=pn();return Object(X.a)("(min-height:500px)")?r.a.createElement("div",{className:e.bottomWrapper},r.a.createElement(un,null)):null},fn=function(){var e=pn();return mn(),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ba,null),r.a.createElement("div",{className:e.root},r.a.createElement(dn,null),r.a.createElement(gn,null)))},hn=new ee.a({en:{yes:"Yes",no:"No"},fr:{yes:"Oui",no:"Non"}}),bn=function(e){var t=e.title,a=e.children,n=e.open,o=e.setOpen,i=e.onConfirm;return hn.setLanguage(Object(l.c)((function(e){return e.ui.language}))),r.a.createElement(pe.a,{open:n,onClose:function(){return o(!1)}},r.a.createElement(de.a,null,t),r.a.createElement(ge.a,null,a,r.a.createElement(he.a,null)),r.a.createElement(et.a,null,r.a.createElement(le.a,{variant:"text",color:"primary",onClick:function(){return o(!1)}},hn.no),r.a.createElement(le.a,{variant:"contained",color:"primary",onClick:function(){o(!1),i()}},hn.yes)))},En=new ee.a({en:{title:"Clear history",confirm:"Do you really want to clear ALL history?"},fr:{title:"Effacer l'historique",confirm:"Voulez vous vraiement effacer TOUTE l'historique?"}}),An=function(){var e=Object(n.useState)(!1),t=Object(J.a)(e,2),a=t[0],o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{edge:"start",color:"inherit",onClick:function(){return o(!0)}},r.a.createElement(At.a,null)),r.a.createElement(bn,{title:En.title,open:a,setOpen:o,onConfirm:function(){j()&&window.localStorage.removeItem("history"),window.location.reload(!1)}},En.confirm))},vn=function(){return r.a.createElement(ae.a,{edge:"start",color:"inherit",component:ue.a,to:"/settings"},r.a.createElement(La.a,null))},yn=function(){return r.a.createElement(ae.a,{edge:"start",color:"inherit",component:ue.a,to:"/"},r.a.createElement(Fe.a,null))},wn=function(e){return En.setLanguage(Object(l.c)((function(e){return e.ui.language}))),r.a.createElement(Ne,null,0!==e.history.length&&r.a.createElement(An,null),r.a.createElement(vn,null),r.a.createElement(yn,null))},On=Object(me.a)((function(e){return{root:{paddingTop:"75px",paddingLeft:"25px",paddingRight:"25px",textAlign:"center"},smallItem:{paddingTop:"0px",paddingBottom:"0px"}}})),Sn=new ee.a({en:{none:"No history",total:"Total minutes: {0}",players:"Players:",playersNone:"N/A",playerDoneTotal:"   (Only completed {0} out of {1} minutes)",deleteTitle:"Clear history item",deleteConfirm:"Do you really want to remove this entry from history?"},fr:{none:"Aucun historique",total:"Minutes total: {0}",players:"Joueurs:",playersNone:"N/A",playerDoneTotal:"   (A seulement fait {0} des {1} minutes)",deleteTitle:"Effacer l'item de l'historique",deleteConfirm:"Voulez vous vraiement effacer l'item de l'historique?"}}),xn=function(e){return 0!==e.history.length?null:r.a.createElement(Ce.a,null,Sn.none)},jn=function(e){var t=e.item,a=Object(n.useState)(!1),o=Object(J.a)(a,2),i=o[0],l=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ta.a,null,r.a.createElement(ra.a,{primary:t.date,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,null,Sn.formatString(Sn.total,t.totalShot)),r.a.createElement(Ce.a,null,Sn.players),r.a.createElement(kn,{item:t,totalShot:t.totalShot}))}),r.a.createElement(na.a,null,r.a.createElement(ae.a,{edge:"end","aria-label":"delete",onClick:function(){return l(!0)}},r.a.createElement(At.a,null)),r.a.createElement(bn,{title:Sn.deleteTitle,open:i,setOpen:l,onConfirm:function(){e.setHistory(function(e){var t=[];j()&&(t=(JSON.parse(window.localStorage.getItem("history"))||[]).filter((function(t){return t.id!==e})),window.localStorage.setItem("history",JSON.stringify(t)));return t}(t.id))}},Sn.deleteConfirm))),r.a.createElement(he.a,null))},kn=function(e){var t=On(),a=e.item.players||[];return a.sort(Xt),0===a.length?Sn.playersNone:r.a.createElement(ea.a,null,a.map((function(a,n){return r.a.createElement(ta.a,{className:t.smallItem},a.name,-1===a.lastShot?"":Sn.formatString(Sn.playerDoneTotal,a.lastShot,e.totalShot))})))},Cn=function(){var e=On();Sn.setLanguage(Object(l.c)((function(e){return e.ui.language})));var t=Object(n.useState)(function(){if(j())return JSON.parse(window.localStorage.getItem("history"))}()||[]),a=Object(J.a)(t,2),o=a[0],i=a[1];return o.sort($t),r.a.createElement(r.a.Fragment,null,r.a.createElement(wn,{history:o}),r.a.createElement(ea.a,{className:e.root},r.a.createElement(xn,{history:o}),o.map((function(e,t){return r.a.createElement(jn,{key:t,item:e,setHistory:i})}))))},Tn=function(){var e=Object(Ae.a)({palette:{primary:Oe.a,secondary:xe.a,type:Object(l.c)((function(e){return e.ui.theme}))}}),t=Object(V.b)();t.listen((function(e){window.FB&&[].slice.call(document.getElementsByClassName("social-wrapper")).forEach((function(e){return window.FB.XFBML.parse(e)}));T(e.pathname)})),Object(n.useEffect)((function(){!function(){var e=parseInt(Date.now().toFixed()*Math.random());C.a.initialize("UA-165926552-1",{gaOptions:{userId:e},debug:!1,testMode:!1})}(),T(window.location.pathname)}),[]);var a=Object(l.c)((function(e){return e.ui.language}));return Object(n.useEffect)((function(){var e="fr"===a?"fr_CA":"en_US";document&&"undefined"!==typeof document&&function(t,a,n){var r=t.getElementsByTagName(a)[t.getElementsByTagName(a).length-1];if(!t.getElementById(n)){var o=t.createElement(a);o.id=n,o.src="//connect.facebook.net/".concat(e,"/sdk.js#xfbml=1&version=v7.0"),r.parentNode.insertBefore(o,r)}}(document,"script","facebook-jssdk")}),[a]),r.a.createElement(ve.a,{theme:e},r.a.createElement(ye.a,null),r.a.createElement(se,null),r.a.createElement(Y.b,{history:t},r.a.createElement(Ee,null),r.a.createElement(ie,null),r.a.createElement(Y.c,null,r.a.createElement(Y.a,{path:"/",exact:!0},r.a.createElement(fn,null)),r.a.createElement(Y.a,{path:"/settings"},r.a.createElement(ga,null)),r.a.createElement(Y.a,{path:"/history"},r.a.createElement(Cn,null)))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:K},r.a.createElement(Tn,null))),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.93388c29.chunk.js.map